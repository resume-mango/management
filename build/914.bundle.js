(self.webpackChunkmanagement=self.webpackChunkmanagement||[]).push([[914],{2201:(e,n,t)=>{"use strict";t.d(n,{Z:()=>u});var r,i=t(168),a=t(7294),s=t(7536),o=t(1167),c=t.n(o),l=t(8804),d=t(5893);const u=(0,a.forwardRef)((function(e,n){var t=e.name,r=e.maxHeight,i=void 0===r?"":r,o=e.formats,l=e.modules,u=e.disabled,h=void 0!==u&&u,g=e.placeholder,m=(0,s.Gc)().control,f={toolbar:[["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["link"],["clean"]]},x=["bold","italic","underline","list","bullet","link"];return(0,d.jsx)(a.Fragment,{children:(0,d.jsx)(p,{maxHeight:i,disabled:h,className:"wrapper",children:(0,d.jsx)(s.Qr,{name:t,control:m,render:function(e){var t=e.field,r=t.value,i=t.onChange,a=t.onBlur;return(0,d.jsx)(c(),{ref:n,modules:l||f,onBlur:a,onChange:function(e){return i(e)},value:r,formats:o||x,theme:"snow",bounds:"wrapper",readOnly:h,placeholder:g})}})})})}));var p=l.ZP.div(r||(r=(0,i.Z)(["\n  .quill {\n    background-color: #f4f5f7;\n    border-radius: 6px;\n    display: block;\n  }\n  .ql-toolbar,\n  .ql-container {\n    border: none;\n    display: block;\n    ","\n  }\n  .ql-toolbar {\n    padding-top: 1rem;\n    span.ql-formats {\n      &:not(:last-child) {\n        border-right: 2px solid #ddd;\n      }\n      button {\n        display: inline-flex;\n        justify-content: center;\n        align-items: center;\n        padding: 0;\n        svg {\n          width: 1.2rem;\n          height: 1.2rem;\n        }\n      }\n    }\n    .ql-formats {\n      margin-right: 0.5rem;\n      padding-right: 0.5rem;\n    }\n    .ql-stroke {\n      stroke: #898989;\n    }\n  }\n\n  .ql-editor {\n    min-height: 150px;\n    * {\n      font-size: 1rem;\n    }\n    ",'\n  }\n  .ql-editor.ql-blank::before {\n    font-style: unset;\n  }\n  .ql-editor ol,\n  .ql-editor ul {\n    padding-left: 0.5em;\n  }\n  .ql-tooltip {\n    z-index: 10;\n    border: none;\n    border-radius: 4px;\n    &[data-mode=\'link\']:before {\n      content: \'Link\';\n    }\n    &:before {\n      content: \'\';\n    }\n    input[type=\'text\'] {\n      border: 1px solid #f4f5f7;\n      font-size: 1rem;\n      height: 40px;\n      width: 201px;\n    }\n\n    .ql-preview {\n      margin-right: 1rem;\n      text-decoration: underline;\n    }\n    &.ql-editing {\n      a.ql-action {\n        &:after {\n          position: relative;\n          top: 4px;\n          line-height: 1;\n          content: url(\'data:image/svg+xml;utf8,<svg width="20" height="20" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill="%2306c" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z" /></svg>\');\n          filter: grayscale(1);\n          opacity: 0.5;\n        }\n        &:hover {\n          &:before {\n            filter: grayscale(0);\n            opacity: 1;\n          }\n        }\n      }\n    }\n    a.ql-remove {\n      &:before {\n        position: relative;\n        top: 3px;\n        margin-left: 0.5rem !important;\n        content: url(\'data:image/svg+xml;utf8,<svg width="16" height="16" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="%2306c" d="M6.08594 2.13281H5.90625C6.00508 2.13281 6.08594 2.05195 6.08594 1.95312V2.13281H12.9141V1.95312C12.9141 2.05195 12.9949 2.13281 13.0938 2.13281H12.9141V3.75H14.5312V1.95312C14.5312 1.16025 13.8866 0.515625 13.0938 0.515625H5.90625C5.11338 0.515625 4.46875 1.16025 4.46875 1.95312V3.75H6.08594V2.13281ZM17.4062 3.75H1.59375C1.19619 3.75 0.875 4.07119 0.875 4.46875V5.1875C0.875 5.28633 0.955859 5.36719 1.05469 5.36719H2.41133L2.96611 17.1143C3.00205 17.8802 3.63545 18.4844 4.40137 18.4844H14.5986C15.3668 18.4844 15.9979 17.8824 16.0339 17.1143L16.5887 5.36719H17.9453C18.0441 5.36719 18.125 5.28633 18.125 5.1875V4.46875C18.125 4.07119 17.8038 3.75 17.4062 3.75ZM14.4257 16.8672H4.57432L4.03076 5.36719H14.9692L14.4257 16.8672Z"/></svg>\') !important;\n        filter: grayscale(1);\n        opacity: 0.5;\n      }\n      &:hover {\n        &:before {\n          filter: grayscale(0);\n          opacity: 1;\n        }\n      }\n    }\n  }\n'])),(function(e){var n=e.maxHeight;return n&&"max-height: ".concat(n,"; overflow-y: scroll;")}),(function(e){var n=e.disabled,t=e.theme;return n&&" background: ".concat(t.colors.grey,";\n         user-select: none;\n          pointer-events: none;\n")}))},3114:(e,n,t)=>{"use strict";t.d(n,{Z:()=>u});var r,i,a,s=t(168),o=t(7294),c=t(8804),l=t(5292),d=t(5893);const u=(0,c.Zz)((function(e){var n=e.theme,t=e.show,r=e.msg,i=e.title,a=e.children;return(0,d.jsx)(o.Fragment,{children:t&&(0,d.jsx)(p,{"data-test-id":"confirmation-box",children:(0,d.jsxs)(h,{children:[(0,d.jsx)(l.Z,{size:"100px",color:n.colors.primary}),(0,d.jsx)("h2",{children:i}),(0,d.jsx)("p",{children:r}),(0,d.jsxs)(g,{children:[" ",a]})]})})})}));var p=c.ZP.div(r||(r=(0,s.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  z-index: 1000;\n  top: 0;\n  left: 0;\n  background-color: ",";\n"])),(function(e){return e.theme.shades.dark[3]})),h=c.ZP.div(i||(i=(0,s.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center !important;\n  align-items: center;\n  max-width: 500px;\n  max-height: 400px;\n  height: 100%;\n  width: 100%;\n  padding: 2rem;\n  border: 1px solid rgb(237 237 237 / 20%);\n  border-radius: 1rem;\n  background-color: #fff;\n\n  h2,\n  p {\n    text-align: center;\n    margin: 0 0 1rem;\n  }\n  p {\n    font-size: 1.2rem;\n    margin-bottom: 2rem;\n  }\n  svg {\n    margin-bottom: 2rem;\n  }\n"]))),g=c.ZP.div(a||(a=(0,s.Z)(["\n  display: grid;\n  align-items: center;\n  grid-template-columns: repeat(2, 1fr);\n  grid-gap: 2rem;\n"])))},999:(e,n,t)=>{"use strict";t.d(n,{Z:()=>c});var r,i=t(168),a=t(7294),s=t(8804),o=t(5893);const c=function(e){var n=e.show,t=(e.setShow,e.children);return(0,o.jsx)(a.Fragment,{children:n&&(0,o.jsx)(l,{children:t})})};var l=s.ZP.div(r||(r=(0,i.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  z-index: 1000;\n  top: 0;\n  left: 0;\n  background-color: ",";\n"])),(function(e){return e.theme.shades.dark[3]}))},8370:(e,n,t)=>{"use strict";t.d(n,{Z:()=>d});var r=t(168),i=t(7294),a=t(8804),s=t(3173),o=t(5893);const c=function(e){var n=e.size,t=e.color,r=e.className;return(0,o.jsx)(i.Fragment,{children:(0,o.jsx)("svg",{width:n||"1rem",className:r||"",height:n||"1rem",viewBox:"0 0 14 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{d:"M5.66732 11.0007C6.85064 11.0004 7.99985 10.6043 8.93198 9.87532L11.8627 12.806L12.8053 11.8633L9.87465 8.93265C10.604 8.00043 11.0004 6.85094 11.0007 5.66732C11.0007 2.72665 8.60798 0.333984 5.66732 0.333984C2.72665 0.333984 0.333984 2.72665 0.333984 5.66732C0.333984 8.60798 2.72665 11.0007 5.66732 11.0007ZM5.66732 1.66732C7.87332 1.66732 9.66732 3.46132 9.66732 5.66732C9.66732 7.87332 7.87332 9.66732 5.66732 9.66732C3.46132 9.66732 1.66732 7.87332 1.66732 5.66732C1.66732 3.46132 3.46132 1.66732 5.66732 1.66732Z",fill:t||"#898989"})})})};var l;const d=function(e){var n=e.placeholder,t=e.value,r=e.setValue,i=e.handleSubmit,a=e.style,l=e.btnType;return(0,o.jsxs)(u,{style:a,children:[(0,o.jsx)("span",{className:"icon",children:(0,o.jsx)(c,{})}),(0,o.jsx)("input",{name:"search",type:"text",placeholder:n||"Search",value:t,onChange:function(e){return r(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&(e.target.blur(),i())},autoComplete:"off"}),"secondary"===l?(0,o.jsx)("span",{className:"search-btn btn",onClick:i,children:"Search"}):(0,o.jsx)("span",{className:"search-btn icon",onClick:i,children:(0,o.jsx)(s.Z,{size:"1.1rem"})})]})};var u=a.ZP.div(l||(l=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: ",";\n  border-radius: 4px;\n  input {\n    background-color: transparent;\n    border: none;\n    height: 40px;\n    font-size: 0.875rem;\n    display: flex;\n    align-items: center;\n    padding-left: 0;\n    padding-right: 0;\n    padding-top: 0;\n    padding-bottom: 0;\n  }\n  .icon {\n    display: flex;\n    height: 100%;\n    width: 50px;\n    align-items: center;\n    justify-content: center;\n    transform: rotateY(180deg);\n  }\n  .btn {\n    font-size: 0.8rem;\n    background: #031849;\n    border-radius: 2px;\n    height: 40px;\n    width: fit-content;\n    padding: 0 1rem;\n    color: #fff;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n  .search-btn {\n    cursor: pointer;\n    &:hover {\n      svg {\n        path {\n          fill: ",";\n        }\n      }\n    }\n  }\n"])),(function(e){return e.theme.colors.light}),(function(e){return e.theme.colors.primary}))},914:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>Ke});var r=t(168),i=t(5861),a=t(885),s=t(7757),o=t.n(s),c=t(7294),l=t(8767),d=t(6974),u=t(8804),p=t(9669),h=t.n(p);const g=function(){var e=(0,i.Z)(o().mark((function e(n){var t,r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",r="",e.prev=2,e.next=5,h().request(n);case 5:i=e.sent,a=i.data,t=a||"",e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),r=e.t0.response&&e.t0.response.data&&e.t0.response.data.error.message||"Something went wrong!";case 13:return e.abrupt("return",{data:t,error:r});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(n){return e.apply(this,arguments)}}();var m=function(){var e=(0,i.Z)(o().mark((function e(){var n,t,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={method:"POST",url:"/management/blog"},e.next=4,g(r);case 4:return i=e.sent,n=i.data,t=i.error,e.abrupt("return",{data:n,error:t});case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{data:void 0,error:e.t0});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=(0,i.Z)(o().mark((function e(n,t){var r,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={method:"PATCH",url:"/management/blog/".concat(n),data:t},e.next=4,g(a);case 4:return s=e.sent,r=s.data,i=s.error,e.abrupt("return",{data:r,error:i});case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{data:void 0,error:e.t0});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(n,t){return e.apply(this,arguments)}}(),x=function(){var e=(0,i.Z)(o().mark((function e(n){var t,r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i={method:"DELETE",url:"/management/blog/".concat(n)},e.next=4,g(i);case 4:return a=e.sent,t=a.data,r=a.error,e.abrupt("return",{data:t,error:r});case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{data:void 0,error:e.t0});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(n){return e.apply(this,arguments)}}(),b=function(){var e=(0,i.Z)(o().mark((function e(n,t){var r,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"PATCH",url:"/management/blog/image/".concat(n),headers:{"Content-Type":"multipart/form-data"},data:t},e.prev=1,e.next=4,g(a);case 4:return s=e.sent,r=s.data,i=s.error,e.abrupt("return",{data:r,error:i});case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",{data:void 0,error:e.t0});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(n,t){return e.apply(this,arguments)}}(),v=function(){var e=(0,i.Z)(o().mark((function e(n){var t,r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={method:"DELETE",url:"/management/blog/image/".concat(n)},e.prev=1,e.next=4,g(i);case 4:return a=e.sent,t=a.data,r=a.error,e.abrupt("return",{data:t,error:r});case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",{data:void 0,error:e.t0});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(n){return e.apply(this,arguments)}}(),y=t(3360),j=t(7484),w=t.n(j),Z=t(9711),k=t(316),C=t(5893);const P=function(e){var n=e.size,t=e.color,r=e.className;return(0,C.jsx)(c.Fragment,{children:(0,C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:n||"1rem",height:n||"1rem",className:r||"",fill:"none",children:(0,C.jsx)("path",{d:"M3.0332 12.6875C3.07227 12.6875 3.11133 12.6836 3.15039 12.6777L6.43555 12.1016C6.47461 12.0938 6.51172 12.0762 6.53906 12.0469L14.8184 3.76758C14.8365 3.74951 14.8508 3.72805 14.8606 3.70442C14.8704 3.68079 14.8755 3.65546 14.8755 3.62988C14.8755 3.6043 14.8704 3.57897 14.8606 3.55535C14.8508 3.53172 14.8365 3.51026 14.8184 3.49219L11.5723 0.244141C11.5352 0.207031 11.4863 0.1875 11.4336 0.1875C11.3809 0.1875 11.332 0.207031 11.2949 0.244141L3.01562 8.52344C2.98633 8.55273 2.96875 8.58789 2.96094 8.62695L2.38477 11.9121C2.36577 12.0167 2.37255 12.1244 2.40454 12.2258C2.43654 12.3273 2.49276 12.4193 2.56836 12.4941C2.69727 12.6191 2.85938 12.6875 3.0332 12.6875ZM4.34961 9.28125L11.4336 2.19922L12.8652 3.63086L5.78125 10.7129L4.04492 11.0195L4.34961 9.28125ZM15.1875 14.3281H0.8125C0.466797 14.3281 0.1875 14.6074 0.1875 14.9531V15.6562C0.1875 15.7422 0.257812 15.8125 0.34375 15.8125H15.6562C15.7422 15.8125 15.8125 15.7422 15.8125 15.6562V14.9531C15.8125 14.6074 15.5332 14.3281 15.1875 14.3281Z",fill:t||"#898989"})})})},z=function(e){var n=e.size,t=e.color,r=e.className;return(0,C.jsx)(c.Fragment,{children:(0,C.jsxs)("svg",{width:n||"1rem",height:n||"1rem",className:r||"",viewBox:"0 0 20 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,C.jsx)("path",{d:"M19.5406 9.44757H0.0765508",stroke:t||"#898989",strokeWidth:"1.5"}),(0,C.jsx)("path",{d:"M9.81017 0.000184768L9.81017 18.8953",stroke:t||"#898989",strokeWidth:"1.5"})]})})};var O=t(3114),S=t(8614),D=t(8370),F=t(846),L=t(4942);function E(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function N(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?E(Object(t),!0).forEach((function(n){(0,L.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):E(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var _,M,T,A,q,B=function(){var e=(0,i.Z)(o().mark((function e(n,t,r,i,a,s,c){var l,d,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),(l=new FormData).append("blog-image",t),e.prev=3,e.next=6,b(n,l);case 6:if(d=e.sent,u=d.data,!d.error&&u&&u._id){e.next=13;break}throw new Error("Failed to upload image");case 13:a("image",u.image),c.removeQueries("blogs");case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(3),s({type:"danger",heading:"Err!",message:"Failed to upload image"});case 20:i(null),r(!1);case 22:case"end":return e.stop()}}),e,null,[[3,17]])})));return function(n,t,r,i,a,s,o){return e.apply(this,arguments)}}(),H=function(){var e=(0,i.Z)(o().mark((function e(n,t,r,i,a){var s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.prev=1,e.next=4,v(n);case 4:if(s=e.sent,c=s.data,!s.error&&c&&c._id){e.next=11;break}throw Error("Failed to delete image");case 11:t("image",c.image),a.setQueryData(["blog",c._id],c),a.removeQueries("blogs");case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),i({type:"danger",heading:"Err!",message:"Failed to delete image"});case 19:r(!1);case 20:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(n,t,r,i,a){return e.apply(this,arguments)}}(),I=function(){var e=(0,i.Z)(o().mark((function e(n,t,r,i,a,s){var c,l,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(n._id,t);case 2:c=e.sent,l=c.data,!(d=c.error)&&l&&l._id?(s.setQueryData(["blog",l._id],l),s.removeQueries("blogs"),r({},{keepValues:!0})):("slug already in use!"===d&&i("slug",{type:"manual",message:"Duplicate slug - already in use"}),a({type:"danger",heading:"Err!",message:"Failed to update blog"}));case 6:case"end":return e.stop()}}),e)})));return function(n,t,r,i,a,s){return e.apply(this,arguments)}}(),R=function(){var e=(0,i.Z)(o().mark((function e(n,t,r,i,a,s,c,l){var d,u,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.next=3,x(n);case 3:d=e.sent,u=d.data,!d.error&&u&&u._id?(p=t.items.filter((function(e){return e._id!==u._id})),l.setQueryData(["blogs",r],N(N({},t),{},{items:p})),i("/blogs")):c({type:"danger",heading:"Err!",message:"Failed to delete"}),s(""),a(!1);case 9:case"end":return e.stop()}}),e)})));return function(n,t,r,i,a,s,o,c){return e.apply(this,arguments)}}(),V=function(){var e=(0,i.Z)(o().mark((function e(n,t,r,i,a){var s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.next=3,x(n);case 3:s=e.sent,c=s.data,!s.error&&c&&c._id?(a.removeQueries("blogs"),t("/blogs")):i({type:"danger",heading:"Err!",message:"Failed to delete blog"}),r(!1);case 8:case"end":return e.stop()}}),e)})));return function(n,t,r,i,a){return e.apply(this,arguments)}}(),Y=t(3106),Q=t(5438),$=t(3394);const U=function(){var e=(0,c.useState)(!1),n=(0,a.Z)(e,2),t=n[0],r=n[1],s=(0,c.useState)(""),u=(0,a.Z)(s,2),p=u[0],g=u[1],m=(0,c.useState)(""),f=(0,a.Z)(m,2),x=f[0],b=f[1],v=(0,c.useState)(""),j=(0,a.Z)(v,2),L=j[0],E=j[1],N=(0,c.useState)(0),_=(0,a.Z)(N,2),M=_[0],T=_[1],A=(0,d.s0)(),q=(0,l.useQueryClient)(),B=(0,F.d)().setNotify,H=function(e){"next"===e&&T((function(e){return e+1})),"prev"===e&&T((function(e){return e-1}))},I={page:M,limit:25};L&&(I.title=L);var V=function(e){var n=function(){var n=(0,i.Z)(o().mark((function n(){var t,r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h().get("/management/blogs",{params:e});case 2:return t=n.sent,r=t.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,Y.Z)(["blogs",e],(function(){return n()}))}(I),U=V.data,W=V.isLoading,G=V.isError,J=U&&U.items&&U.items.length>0&&U.items.sort((function(e,n){return(n.createdAt?new Date(n.createdAt):0)-(e.createdAt?new Date(e.createdAt):0)}));J&&U&&U.items&&U.items.length>0&&(U.items=J);var re=function(){var e=(0,i.Z)(o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(n,U,I,A,r,g,B,q);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,C.jsxs)(c.Fragment,{children:[(0,C.jsx)(S.Z,{title:"Blogs",children:U&&(0,C.jsxs)(Q.z,{btnType:"primary",size:"lg",onClick:function(){return A("/blogs/".concat("new"))},children:[(0,C.jsx)(z,{color:"#fff",size:"0.8rem"}),"   Create Blog"]})}),G?(0,C.jsx)("div",{className:"align-center",style:{height:"30vh"},children:(0,C.jsx)("h3",{children:"Failed to load Blogs!"})}):W?(0,C.jsxs)(y.u,{children:[(0,C.jsx)(y.$j,{type:"primary",size:"2rem"}),(0,C.jsx)(y.xg,{color:"#f08438",children:"Loading"})]}):U&&U.items?(0,C.jsxs)(c.Fragment,{children:[(0,C.jsx)(K,{children:(0,C.jsx)(D.Z,{placeholder:"Title of the blog",value:x,setValue:b,handleSubmit:function(){E(x)},style:{width:"100%"}})}),(0,C.jsxs)(O.Z,{title:"Delete",msg:"Are you sure?",show:!!p,children:[(0,C.jsx)(Q.z,{btnType:"primary",size:"lg",onClick:function(){return g("")},disabled:t,children:"Cancel"}),(0,C.jsx)(Q.z,{btnType:"ghost",size:"lg",onClick:function(){return p&&re(p)},disabled:t,children:t?(0,C.jsx)(y.$j,{size:"1.2rem",type:"white"}):"Delete"})]}),(0,C.jsxs)($.bw,{children:[(0,C.jsx)("thead",{children:(0,C.jsxs)("tr",{children:[(0,C.jsx)("th",{style:{width:"auto"}}),(0,C.jsx)("th",{style:{width:"175px"},children:"Date"}),(0,C.jsx)("th",{style:{width:"175px"},children:"Status"}),(0,C.jsx)("th",{style:{width:"110px"},children:"Action"})]})}),(0,C.jsx)("tbody",{children:U.items.length>0&&U.items.map((function(e,n){return(0,C.jsxs)("tr",{children:[(0,C.jsx)("td",{children:(0,C.jsx)(Z.rU,{to:"/blogs/".concat(e._id),children:(0,C.jsxs)($.bC,{children:[(0,C.jsx)($.iY,{children:e.image&&(0,C.jsx)("img",{src:e.image})}),(0,C.jsxs)("div",{children:[(0,C.jsx)("b",{className:"line-clamp-1",children:e.title||"Untitled"}),(0,C.jsx)("p",{className:"line-clamp-2",children:e.short_description})]})]})})}),(0,C.jsx)("td",{children:w()(e.createdAt).format("DD MMM, YYYY")}),(0,C.jsx)("td",{children:(0,C.jsx)(X,{type:e.status,children:e.status})}),(0,C.jsx)("td",{children:(0,C.jsxs)(ee,{children:[(0,C.jsx)(ne,{"data-test-id":"edit-blog",color:"blue",backgroundColor:"#0066cc4a",onClick:function(){return A("/blogs/".concat(e._id))},children:(0,C.jsx)(P,{})}),(0,C.jsx)(ne,{"data-test-id":"delete-blog",color:"red",backgroundColor:"#e6000038",onClick:function(){return g(e._id)},children:(0,C.jsx)(k.Z,{})})]})})]},n)}))})]}),0===U.items.length?(0,C.jsx)("div",{className:"align-center",style:{height:"30vh"},children:(0,C.jsx)("h3",{children:"No Blogs!"})}):(0,C.jsxs)(te,{children:[(0,C.jsx)(Q.z,{btnType:"secondary",disabled:0===M,onClick:function(){return H("prev")},children:"Previous"}),(0,C.jsx)(Q.z,{btnType:"secondary",disabled:M+1>=Math.ceil(U.total/U.limit),onClick:function(){return H("next")},children:"Next"})]})]}):null]})};var W,G,J,K=u.ZP.div(_||(_=(0,r.Z)(["\n  display: flex;\n  width: 100%;\n  padding: 1.5rem;\n"]))),X=u.ZP.span(M||(M=(0,r.Z)(["\n  padding: 0.2rem;\n  width: 90px;\n  display: flex;\n  text-align: center;\n  justify-content: center;\n  background-color: ",";\n  color: ",";\n  border: 1px solid;\n  border-radius: 4px;\n  border-color: ",";\n"])),(function(e){var n=e.theme;return"published"===e.type?n.shades.success:"#eee"}),(function(e){return"published"===e.type?"#008a00":"#343434"}),(function(e){return"published"===e.type?"#008a0029":"#ddddddc4"})),ee=u.ZP.div(T||(T=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  /* flex-direction: column; */\n"]))),ne=u.ZP.div(A||(A=(0,r.Z)(["\n  background-color: #eee;\n  border-radius: 6px;\n  width: 30px;\n  height: 30px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: ease 300ms;\n  &:hover {\n    svg {\n      path {\n        fill: ",";\n      }\n    }\n    background-color: ",";\n  }\n"])),(function(e){return e.color}),(function(e){return e.backgroundColor})),te=u.ZP.div(q||(q=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  button {\n    width: fit-content;\n    padding: 0 1rem;\n    margin: 0 1rem;\n  }\n"]))),re=t(7536),ie=t(8834),ae=t(6527),se=t(3173),oe=t(5934),ce=t(2537),le=t(5795),de=t(2201),ue=t(5970),pe=t(999),he=t(6770),ge=t.n(he),me=t(463),fe=t(2790);function xe(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function be(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?xe(Object(t),!0).forEach((function(n){(0,L.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):xe(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}const ve=function(e){var n=e.setImage,t=e.setShow,r=(0,c.useCallback)(function(){var e=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all(t.map((function(e){return n=e,new Promise((function(e){ge().imageFileResizer(n,1600,1200,"JPEG",80,0,(function(n){e(n)}),"file",250,250)}));var n}))).then((function(e){e.length>0&&n(e[0])}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(n){return e.apply(this,arguments)}}(),[]),a=(0,me.uI)({accept:"image/*",maxFiles:1,onDrop:r}),s=a.getRootProps,l=a.getInputProps,d=a.isDragActive;return(0,C.jsx)(c.Fragment,{children:(0,C.jsxs)(Oe,{children:[(0,C.jsx)(De,{onClick:function(){return t(!1)},children:(0,C.jsx)(fe.Z,{size:"1.2rem"})}),(0,C.jsxs)(Se,be(be({},s()),{},{children:[(0,C.jsx)("input",be({},l())),d?(0,C.jsx)("p",{children:"Drop the files here ..."}):(0,C.jsxs)(c.Fragment,{children:[(0,C.jsx)("p",{className:"mb-2",children:"Drag 'n' drop some files here, or click to select files"}),(0,C.jsx)(Q.z,{type:"button",btnType:"primary",size:"lg",children:"Choose Image"})]})]}))]})})};var ye,je,we,Ze,ke,Ce,Pe,ze,Oe=u.ZP.div(W||(W=(0,r.Z)(["\n  max-height: 400px;\n  max-width: 850px;\n  height: 100%;\n  width: 100%;\n  padding: 5rem 4rem;\n  background-color: #fff;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n"]))),Se=u.ZP.div(G||(G=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  width: 100%;\n  margin: 0;\n  align-items: center;\n  justify-content: center;\n  background-image: url(\"data:image/svg+xml,%3csvg width='100%25' height='100%25' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='100%25' height='100%25' fill='none' stroke='%23ACACACFF' stroke-width='2' stroke-dasharray='5%2c 8' stroke-dashoffset='0' stroke-linecap='square'/%3e%3c/svg%3e\");\n  opacity: 0.8;\n  transition: opacity 200ms;\n  cursor: pointer;\n  p {\n    font-size: 1.25rem;\n  }\n  &:hover {\n    opacity: 1;\n  }\n"]))),De=u.ZP.span(J||(J=(0,r.Z)(["\n  display: inline-flex;\n  position: absolute;\n  top: 5px;\n  right: 5px;\n  padding: 1rem;\n  z-index: 1;\n  cursor: pointer;\n\n  &:hover {\n    svg {\n      path {\n        stroke: ",";\n      }\n    }\n  }\n"])),(function(e){return e.theme.colors.primary})),Fe=t(9501),Le=Fe.Z_().max(100).required("Required"),Ee=Fe.Z_().max(300).required("Required"),Ne=Fe.Z_().matches(/^[a-z0-9]+(?:-[a-z0-9]+)*$/g,"small alphabets(a-z), numbers(0-9) and hypen(-) are allowed").max(100).required("Required"),_e=Fe.Z_(),Me=Fe.Z_().oneOf(["published","draft"]),Te=Fe.Ry().shape({title:Le,short_description:Ee,slug:Ne,content:_e,status:Me}),Ae=t(1e3);function qe(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Be(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?qe(Object(t),!0).forEach((function(n){(0,L.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):qe(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}const He=function(){var e,n,t=(0,c.useState)(!1),r=(0,a.Z)(t,2),s=r[0],u=r[1],p=(0,c.useState)(null),g=(0,a.Z)(p,2),m=g[0],f=g[1],x=(0,c.useState)(!1),b=(0,a.Z)(x,2),v=b[0],j=b[1],Z=(0,c.useState)(!1),P=(0,a.Z)(Z,2),S=P[0],D=P[1],L=(0,c.useState)(!1),E=(0,a.Z)(L,2),N=E[0],_=E[1],M=(0,c.useState)(!1),T=(0,a.Z)(M,2),A=T[0],q=T[1],R=(0,d.UO)().id,$=(0,l.useQueryClient)(),U=(0,d.s0)(),W=(0,F.d)().setNotify,G=(0,ae.Z)(!1),J=G.showExitPrompt,K=G.setShowExitPrompt,X=(0,re.cI)({mode:"onBlur",defaultValues:{title:"",short_description:"",content:"",status:"draft",image:"",slug:""},resolver:(0,ie.X)(Te)}),ee=function(e,n){te(e,n),u(!1)},ne=X.handleSubmit,te=X.setValue,he=X.watch,ge=X.setFocus,me=X.reset,fe=X.setError,xe=(X.getValues,X.formState),be=xe.isSubmitting,ye=xe.isDirty,je=xe.isValid,we=xe.errors,Ze=he(),ke=(e=R||"",!0,n=function(){var e=(0,i.Z)(o().mark((function e(n){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h().get("/management/blog/".concat(n));case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),(0,Y.Z)(["blog",e],(function(){return n(e)}),true)),Ce=ke.data,Pe=ke.isLoading,ze=ke.isError,Oe=function(){var e=(0,i.Z)(o().mark((function e(n,t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(t,n,D,f,te,W,$);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),Se=function(){var e=(0,i.Z)(o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(n,te,D,W,$);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),De=function(){var e=(0,i.Z)(o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(Ce,n,me,fe,W,$);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Fe=function(){var e=(0,i.Z)(o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(n,U,_,W,$);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){if(m)return Oe(m,Ce._id),j(!1)}),[m]),(0,c.useEffect)((function(){if(Ce){var e={title:Ce.title||"",short_description:Ce.short_description||"",content:Ce.content||"",status:Ce.status||"draft",image:Ce.image||"",slug:Ce.slug||""};return me(e,{keepDirty:!1})}}),[Ce]),(0,c.useEffect)((function(){K(!(!ye&&je&&!be))}),[ye,be,je]),(0,C.jsx)(c.Fragment,{children:(0,C.jsx)(re.RV,Be(Be({},X),{},{children:ze?(0,C.jsx)("div",{className:"align-center",style:{height:"30vh"},children:(0,C.jsx)("h3",{children:"Failed to load editor!"})}):Pe?(0,C.jsxs)(Ge,{children:[(0,C.jsx)(y.$j,{type:"primary",size:"2rem"}),(0,C.jsx)(y.xg,{color:"#f08438",children:"Loading Blog"})]}):Ce?(0,C.jsxs)(c.Fragment,{children:[(0,C.jsx)(Ae.Z,{show:J,setShow:K}),(0,C.jsxs)(O.Z,{title:"Delete",msg:"Are you sure?",show:A,children:[(0,C.jsx)(Q.z,{btnType:"primary",size:"lg",onClick:function(){return q(!1)},disabled:N,children:"Cancel"}),(0,C.jsx)(Q.z,{btnType:"ghost",size:"lg",onClick:function(){return Ce._id&&Fe(Ce._id)},disabled:N,children:N?(0,C.jsx)(y.$j,{size:"1.2rem",type:"white"}):"Delete"})]}),(0,C.jsxs)(Re,{children:[(0,C.jsx)(Q.z,{btnType:"ghost",size:"lg",style:{width:"fit-content",padding:"0 1rem"},onClick:function(){return U("/blogs")},"data-test-id":"go-back",children:(0,C.jsx)(se.Z,{size:"1.4rem"})}),(0,C.jsxs)(Ve,{children:[(0,C.jsxs)("div",{children:[(0,C.jsx)("div",{className:"mb-2",children:(0,C.jsx)(ce.Z,{name:"title",label:"Title",disabled:be||S})}),(0,C.jsxs)("div",{className:"mb-2",children:[(0,C.jsx)("label",{children:"Slug"}),(0,C.jsxs)(We,{onClick:function(){return ge("slug")},className:be||S?"disabled-input":"",children:[(0,C.jsx)("p",{children:"www.resumemango.com/blog/"}),(0,C.jsx)(ce.Z,{name:"slug",style:{width:"100%"},hideError:!0,disabled:be||S})]}),we.slug&&(0,C.jsx)(oe.dp,{className:"invalid-feild",children:we.slug.message})]}),(0,C.jsx)("div",{className:"mb-2",children:(0,C.jsx)(le.Z,{name:"short_description",label:"Short Description",style:{minHeight:"110px"},disabled:be||S})}),(0,C.jsxs)("div",{className:"mb-2",children:[(0,C.jsx)("label",{children:"Content"}),(0,C.jsx)(de.Z,{disabled:be||S,name:"content",formats:["bold","italic","underline","list","bullet","header"],modules:{toolbar:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["link"],["clean"]]}})]})]}),(0,C.jsx)("div",{style:{borderLeft:"1px solid #eee",marginLeft:"1.5rem",paddingLeft:"1.5rem"},children:(0,C.jsxs)($e,{children:[(0,C.jsx)("label",{children:"Image"}),(0,C.jsx)(Qe,{onClick:function(){return!Ze.image&&j(!0)},image:Ze.image&&!S?Ze.image:void 0,className:Ze.image?"img-filled":"img-empty",children:S?(0,C.jsx)(y.$j,{type:"primary",size:"1.5rem"}):(0,C.jsxs)(c.Fragment,{children:[(0,C.jsx)("span",{className:"icon",onClick:function(){return j(!0)},children:(0,C.jsx)(z,{size:"1rem",className:"stroke-svg"})}),Ze.image&&(0,C.jsx)("span",{className:"icon",onClick:function(){return Se(Ce._id)},children:(0,C.jsx)(k.Z,{size:"1rem",className:"path-svg"})})]})}),(0,C.jsx)("div",{style:{borderTop:"1px solid #eee",paddingTop:"1rem",marginBottom:"1rem"},children:(0,C.jsxs)(ue.Z,{vertical:"bottom",horizontal:"right",show:s,setShow:u,btnStyle:{textTransform:"capitalize",fontSize:"0.875rem",background:"rgba(244,245,247,1)",padding:"0.7rem",width:"150px",borderRadius:"4px"},children:[(0,C.jsxs)(ue.Z.Button,{children:[(0,C.jsx)("span",{children:"Status : "})," ",(0,C.jsx)("span",{style:{color:"".concat("published"===Ze.status?"rgba(32, 192, 50, 1)":"#343434")},children:Ze.status})]}),(0,C.jsx)(ue.Z.Item,{children:(0,C.jsx)("a",{onClick:function(){return ee("status","draft")},children:"Draft"})}),(0,C.jsx)(ue.Z.Item,{children:(0,C.jsx)("a",{onClick:function(){return ee("status","published")},children:"Published"})})]})}),(0,C.jsxs)(Ue,{children:[(0,C.jsx)("p",{children:"Created By"}),(0,C.jsx)("p",{children:Ce.created_by.name||"-"}),(0,C.jsx)("p",{children:"Last Modified"}),(0,C.jsx)("p",{children:w()(Ce.updatedAt).format("DD MMM, YYYY hh:mm a")||"-"}),(0,C.jsx)("p",{children:"Created Date"}),(0,C.jsx)("p",{children:w()(Ce.createdAt).format("DD MMM, YYYY hh:mm a")||"-"})]}),(0,C.jsxs)(Ye,{children:[(0,C.jsx)(Q.z,{btnType:"primary",size:"lg",onClick:function(){return ne(De)()},disabled:be||!ye||Pe||N||!je,children:be?(0,C.jsx)(y.$j,{size:"1.2rem",type:"white"}):"Save Changes"}),(0,C.jsx)(Q.z,{btnType:"ghost",size:"lg",disabled:be||Pe||N,onClick:function(){return q(!0)},children:"Delete"})]})]})})]})]}),(0,C.jsx)(pe.Z,{show:v,setShow:j,children:(0,C.jsx)(ve,{setImage:f,setShow:j})})]}):null}))})};var Ie,Re=u.ZP.div(ye||(ye=(0,r.Z)(["\n  padding: 2rem 1.5rem 4rem;\n  min-height: 100vh;\n"]))),Ve=u.ZP.div(je||(je=(0,r.Z)(["\n  display: grid;\n  grid-template-columns: 65% 35%;\n  justify-content: space-between;\n  height: 100%;\n  margin-top: 2rem;\n"]))),Ye=u.ZP.div(we||(we=(0,r.Z)(["\n  display: flex;\n  justify-content: space-between;\n  grid-gap: 1rem;\n"]))),Qe=u.ZP.div(Ze||(Ze=(0,r.Z)(["\n  background: ",";\n  background-position: center;\n  background-repeat: no-repeat;\n  background-size: cover;\n  width: 100%;\n  height: 300px;\n  margin-bottom: 1rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  overflow: hidden;\n  &::before {\n    display: block;\n    content: '';\n    position: absolute;\n    background-color: #000000;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    pointer-events: none;\n    opacity: 0;\n    transition: ease 0.3s;\n  }\n\n  img {\n    width: 100%;\n    height: 100%;\n  }\n  .icon {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: #e3e3e3;\n    width: 40px;\n    height: 40px;\n    border-radius: 50%;\n    transition: ease 0.3s;\n    margin: 0 0.5rem;\n    user-select: none;\n    position: relative;\n    z-index: 1;\n    cursor: pointer;\n  }\n  &.img-empty {\n    cursor: pointer;\n  }\n  &.img-filled {\n    .icon {\n      opacity: 0;\n      pointer-events: none;\n    }\n  }\n  &.img-filled:hover {\n    &::before {\n      opacity: 0.3;\n    }\n    .icon {\n      opacity: 1;\n      pointer-events: auto;\n      &:hover {\n        background-color: ",";\n        .stroke-svg {\n          path {\n            stroke: #fff;\n          }\n        }\n        .path-svg {\n          path {\n            fill: #fff;\n          }\n        }\n      }\n    }\n  }\n  &.img-empty:hover {\n    .icon {\n      background-color: ",";\n      .stroke-svg {\n        path {\n          stroke: ",";\n        }\n      }\n      .path-svg {\n        path {\n          fill: ",";\n        }\n      }\n    }\n  }\n"])),(function(e){var n=e.image;return n?'url("'.concat(n,'")'):"rgba(244, 245, 247, 1)"}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.shades.primary[4]}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary})),$e=u.ZP.div(ke||(ke=(0,r.Z)(["\n  position: sticky;\n  top: 20px;\n"]))),Ue=u.ZP.div(Ce||(Ce=(0,r.Z)(["\n  display: grid;\n  grid-template-columns: 40% 60%;\n  p {\n    font-size: 0.8rem;\n    margin-top: 0;\n  }\n  margin-bottom: 1rem;\n  padding-top: 1rem;\n  border-bottom: 1px solid #eee;\n  border-top: 1px solid #eee;\n"]))),We=u.ZP.div(Pe||(Pe=(0,r.Z)(["\n  background-color: rgba(244, 245, 247, 1);\n  display: flex;\n  align-items: center;\n  padding-left: 1rem;\n  border-radius: 6px;\n  cursor: text;\n  p {\n    color: rgba(135, 135, 135, 1);\n    margin: 0;\n  }\n  input {\n    padding-left: 0;\n  }\n"]))),Ge=u.ZP.div(ze||(ze=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  height: 100vh;\n\n  p {\n    margin-top: 1rem;\n  }\n"]))),Je=function(){var e=(0,c.useState)(!1),n=(0,a.Z)(e,2),t=n[0],r=n[1],s=(0,d.UO)().id,u=(0,l.useQueryClient)(),p=(0,d.s0)(),h=function(){var e=(0,i.Z)(o().mark((function e(){var n,t,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.prev=1,e.next=4,m();case 4:n=e.sent,t=n.data,!(i=n.error)&&t&&t._id?((a=u.getQueryData("blogs"))&&(a.unshift(t),u.setQueryData("blogs",a)),u.setQueryData(["blog",t._id],t),p("/blogs/".concat(t._id),{replace:!0})):console.log(i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:r(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){"new"===s&&h()}),[s]),(0,C.jsx)(c.Fragment,{children:"new"===s||t?(0,C.jsxs)(Xe,{children:[(0,C.jsx)(y.$j,{type:"primary",size:"2rem"}),(0,C.jsx)(y.xg,{color:"#f08438",children:"Creating New Blog"})]}):(0,C.jsx)(He,{})})};const Ke=function(){return(0,C.jsx)(c.Fragment,{children:(0,C.jsxs)(d.Z5,{children:[(0,C.jsx)(d.AW,{path:"/",element:(0,C.jsx)(U,{})}),(0,C.jsx)(d.AW,{path:"/:id",element:(0,C.jsx)(Je,{})})]})})};var Xe=u.ZP.div(Ie||(Ie=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  height: 100vh;\n\n  p {\n    margin-top: 1rem;\n  }\n"])))},3394:(e,n,t)=>{"use strict";t.d(n,{bC:()=>d,bw:()=>c,iY:()=>l});var r,i,a,s=t(168),o=t(8804),c=o.ZP.table(r||(r=(0,s.Z)(["\n  margin-bottom: 2rem;\n\n  p,\n  td,\n  th {\n    font-size: 0.875rem;\n  }\n  th,\n  td {\n    text-align: start;\n  }\n  td {\n    text-transform: inherit;\n    padding: 0.5rem 1.25rem;\n    height: 75px;\n    a {\n      display: flex;\n      align-items: center;\n    }\n  }\n  thead {\n    tr {\n      border-top-width: ",";\n    }\n  }\n  tbody {\n    tr {\n      transition: background ease 0.3s;\n      &:hover {\n        background-color: #dddddd40;\n      }\n    }\n  }\n"])),(function(e){return e.borderTop?1:0}));c.defaultProps={borderTop:!0};var l=o.ZP.div(i||(i=(0,s.Z)(["\n  width: ",";\n  height: ",";\n  min-width: ",";\n  min-height: ",";\n  background: #eee;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-right: 1.5rem;\n  border-radius: ",";\n  overflow: hidden;\n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    object-position: center;\n  }\n"])),(function(e){return e.size||"70px"}),(function(e){return e.size||"70px"}),(function(e){return e.size||"70px"}),(function(e){return e.size||"70px"}),(function(e){return e.rounded?"50%":0})),d=o.ZP.div(a||(a=(0,s.Z)(["\n  text-align: start !important;\n  display: flex;\n  align-items: center;\n  text-transform: none;\n\n  p {\n    margin: 0;\n    color: #777;\n  }\n  &:hover {\n    b {\n      text-decoration: underline;\n      text-decoration-color: ",";\n      color: ",";\n      text-underline-position: under;\n    }\n  }\n"])),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary}))},6770:e=>{(()=>{"use strict";var n={d:(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};n.r(t),n.d(t,{default:()=>i});var r=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}var n;return n=[{key:"changeHeightWidth",value:function(e,n,t,r,i,a){return t>r&&(e=Math.round(e*r/t),t=r),e>n&&(t=Math.round(t*n/e),e=n),i&&t<i&&(e=Math.round(e*i/t),t=i),a&&e<a&&(t=Math.round(t*a/e),e=a),{height:e,width:t}}},{key:"resizeAndRotateImage",value:function(e,n,t,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"jpeg",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:100,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,c=s/100,l=document.createElement("canvas"),d=e.width,u=e.height,p=this.changeHeightWidth(u,t,d,n,r,i);!o||90!==o&&270!==o?(l.width=p.width,l.height=p.height):(l.width=p.height,l.height=p.width),d=p.width,u=p.height;var h=l.getContext("2d");return h.fillStyle="rgba(0, 0, 0, 0)",h.fillRect(0,0,d,u),o&&(h.rotate(o*Math.PI/180),90===o?h.translate(0,-l.width):180===o?h.translate(-l.width,-l.height):270===o?h.translate(-l.height,0):0!==o&&360!==o||h.translate(0,0)),h.drawImage(e,0,0,d,u),l.toDataURL("image/".concat(a),c)}},{key:"b64toByteArrays",value:function(e,n){n=n||"image/jpeg";for(var t=atob(e.toString().replace(/^data:image\/(png|jpeg|jpg|webp);base64,/,"")),r=[],i=0;i<t.length;i+=512){for(var a=t.slice(i,i+512),s=new Array(a.length),o=0;o<a.length;o++)s[o]=a.charCodeAt(o);var c=new Uint8Array(s);r.push(c)}return r}},{key:"b64toBlob",value:function(e,n){var t=this.b64toByteArrays(e,n);return new Blob(t,{type:n,lastModified:new Date})}},{key:"b64toFile",value:function(e,n,t){var r=this.b64toByteArrays(e,t);return new File(r,n,{type:t,lastModified:new Date})}},{key:"createResizedImage",value:function(n,t,r,i,a,s,o){var c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"base64",l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null,u=new FileReader;if(!n)throw Error("File Not Found!");if(n.type&&!n.type.includes("image"))throw Error("File Is NOT Image!");u.readAsDataURL(n),u.onload=function(){var p=new Image;p.src=u.result,p.onload=function(){var u=e.resizeAndRotateImage(p,t,r,l,d,i,a,s),h="image/".concat(i);switch(c){case"blob":var g=e.b64toBlob(u,h);o(g);break;case"base64":default:o(u);break;case"file":var m=n.name.toString().replace(/(png|jpeg|jpg|webp)$/i,"").concat(i.toString()),f=e.b64toFile(u,m,h);o(f)}}},u.onerror=function(e){throw Error(e)}}}],n&&function(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e,n),e}();const i={imageFileResizer:function(e,n,t,i,a,s,o,c,l,d){return r.createResizedImage(e,n,t,i,a,s,o,c,l,d)}};e.exports=t})()}}]);
//# sourceMappingURL=914.bundle.js.map